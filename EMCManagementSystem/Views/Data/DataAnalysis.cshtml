<!DOCTYPE HTML>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Highcharts Example</title>
    <style type="text/css">
        #container {
            min-width: 310px;
            max-width: 800px;
            height: 400px;
            margin: 0 auto;
        }
      .highcharts-credits {
            display: none;
        }
    </style>
</head>
<body style="height:500px">
    
    <script src="~/Highcharts/js/highcharts.js"></script>
    <script src="~/Highcharts/js/series-label.js"></script>
    <script src="~/Highcharts/js/exporting.js"></script>
    <script src="~/Highcharts/js/highcharts-zh_CN.js"></script>
    <script src="~/Content/js/jquery.min.js"></script>
    <select id="op" onchange="opchange()">
        <option value="1">14023</option>
        <option value="2">18387</option>
    </select>
    <div id="container" ></div>

    <script type="text/javascript">
        function opchange() {
            var judgenum = $('#op option:selected').val();
            if (judgenum == 1) {//14023
                $.ajax({

                    type: "post",

                    url: "/Data/selectYearCarQualification",

                    cache: false,

                    async: true,

                    success: function (data) {

                        var data1 = data;
                        Highcharts.chart('container', {
                            chart: {

                                zoomType: 'x'
                            },
                            title: {
                                text: '汽车品牌合格率, 2014-2018'
                            },

                            subtitle: {
                                text: '详情如下图'
                            },

                            yAxis: {
                                title: {
                                    text: '百分比'
                                }
                            },
                            legend: {
                                layout: 'vertical',
                                align: 'right',
                                verticalAlign: 'middle'
                            },
                            plotOptions: {
                                series: {
                                    label: {
                                        connectorAllowed: false
                                    },
                                    pointStart: 2014
                                }
                            },
                            series: data1,
                            responsive: {
                                rules: [{
                                    condition: {
                                        maxWidth: 500
                                    },
                                    chartOptions: {
                                        legend: {
                                            layout: 'horizontal',
                                            align: 'center',
                                            verticalAlign: 'bottom'
                                        }
                                    }
                                }]
                            }

                        });
                    }
                });
            } else if (judgenum == 2) {
                $.ajax({

                    type: "post",

                    url: "/Data/selectYearCarQualification_18387",

                    cache: false,

                    async: true,

                    success: function (data) {

                        var data1 = data;
                        Highcharts.chart('container', {
                            chart: {

                                zoomType: 'x'
                            },
                            title: {
                                text: '汽车品牌合格率, 2014-2018'
                            },

                            subtitle: {
                                text: '详情如下图'
                            },

                            yAxis: {
                                title: {
                                    text: '百分比'
                                }
                            },
                            legend: {
                                layout: 'vertical',
                                align: 'right',
                                verticalAlign: 'middle'
                            },
                            plotOptions: {
                                series: {
                                    label: {
                                        connectorAllowed: false
                                    },
                                    pointStart: 2014
                                }
                            },
                            series: data1,
                            responsive: {
                                rules: [{
                                    condition: {
                                        maxWidth: 500
                                    },
                                    chartOptions: {
                                        legend: {
                                            layout: 'horizontal',
                                            align: 'center',
                                            verticalAlign: 'bottom'
                                        }
                                    }
                                }]
                            }

                        });
                    }
                });
            }
        }
        $(function () {
            opchange();  
        })
      
    </script>
</body>
</html>
